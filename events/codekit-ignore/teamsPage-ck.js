"use strict";var tmspgOps=require("../operations").TeamsPageOps,teamsPageEvts={getTeamsPage:function(e,t,n){console.log("Event: getTeamsPage");tmspgOps.getTeamsPage(e,function(n,r){if(n){console.error("getTeamsPage: Error\n",n.name);t.json(n.rescode,{error:{id:n.id,msg:n.msg,value:""}})}else t.render("teamsPage",{nav:e.sess.school,teams:r.teams,apeLib:r.apeLibPackage})})},createTeam:function(e,t,n){console.log("Event: createTeam");tmspgOps.createTeam(e,function(n,r){if(n){console.log("createTeam: Error\n",n.name);var i={team:e.params.team,gender:e.params.gender};t.json(n.rescode,{error:{id:n.id,msg:n.msg,value:i}})}else{console.log("createTeam: Success\n");t.json(201,{id:r._id,name:r.name,gender:r.gender})}})},updateTeam:function(e,t,n){console.log("Event: updateTeam");tmspgOps.updateTeam(e,function(n,r){if(n){console.log("updateTeam: Error\n",n.name);var i={team:e.params.team,gender:e.params.gender};t.json(n.rescode,{error:{id:n.id,msg:n.msg,value:i}})}else{console.log("updateTeam: Success");t.json(200,{_id:r._id,name:r.name,gender:r.gender})}})},deleteTeam:function(e,t,n){console.log("Event: deleteTeam");tmspgOps.deleteTeam(e,function(n){if(n){console.log("deleteTeam: Error\n",n.name);var r={team:e.params.team,gender:e.params.gender};t.json(n.rescode,{error:{id:n.id,msg:n.msg,value:r}})}else{console.log("deleteTeam: Success");t.json(200,{})}})}};module.exports=exports=teamsPageEvts;