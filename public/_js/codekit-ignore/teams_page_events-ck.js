$(function(){function e(e){return e.attr("contenteditable")=="true"?!0:!1}function t(t){if(e(t)){t.attr("contenteditable","false");console.log("contenteditable for"+t.text()+" is false")}else{t.attr("contenteditable","true");console.log("contenteditable for"+t.text()+" is true")}}function n(e,t){$("form#delete-team-form").on("click",function(n){console.log("delete-team confirmed");$.ajax({url:t,type:"DELETE",dataType:"json"}).done(function(){console.log("delete successful");e.parent().remove()}).fail(function(e){console.log("error:\n",e);alert("error:\n",e)});$("form#delete-team-form").off("click")})}$(".team-edits").hide();$("ul#teams-list").on("click","a.edit-team",function(n){var r=$(this);console.log(r);var i=$(this).closest("li").find("h3"),s=i.text();t(i);if(e(i)){$(this).closest("li").find(".team-buttons").hide();$(this).closest("li").find(".team-edits").show()}n.preventDefault()});$("a.cancel-team").on("click",function(){document.execCommand("undo");$(this).closest("li").find("h3").attr("contenteditable","false");$(this).closest("li").find(".team-buttons").show();$(this).closest("li").find(".team-edits").hide()});$("a.save-team").on("click",function(){$.ajax({url:"/",data:data,type:"post"});$(this).closest("li").find("h3").attr("contenteditable","false");$(this).closest("li").find(".team-buttons").show();$(this).closest("li").find(".team-edits").hide()});$("a#delete-team").off("click").on("click",function(e){console.log("clicked delete");e.preventDefault();var t,r,i,s,o=$(this);t=$("#school-name").text();r=o.parent().children("h3").text();i=o.parent().children("span").text();s="/"+t+"/"+r+"-"+i;console.log("url:\n",s);$("#deleteModal.reveal-link").trigger("click");n(o,s)})});